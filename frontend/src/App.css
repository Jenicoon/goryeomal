:root {
  --bg: #f7fafc;
  --panel: #ffffff;
  --muted: #6b7280;
  --accent: #2563eb;
  --accent-2: #0ea5a4;
  --user-bg: #e0f2fe;
  --assistant-bg: #f1f5f9;
  --success: #059669;
  --danger: #ef4444;
  --glass: rgba(15,23,42,0.04);
}
* { box-sizing: border-box; }
body { margin: 0; font-family: Inter, system-ui, Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif; background: var(--bg); color: #0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
.header { padding: 16px 24px; border-bottom: 1px solid #e6edf3; background: linear-gradient(90deg,#fff 0%, #fbfdff 100%); }
.header h1 { margin: 0; font-size: 20px; }
.grid { display: grid; grid-template-columns: 420px 1fr; gap: 18px; padding: 18px; }
.panel { background: var(--panel); border-radius: 10px; padding: 16px; box-shadow: 0 4px 20px rgba(2,6,23,0.04); border: 1px solid rgba(12,18,40,0.03); }
.chat-panel { display:flex; flex-direction:column; height: calc(100vh - 140px); }
.row { display:flex; gap:8px; margin-top:12px; align-items:center; }
button { background: var(--accent); color: white; border: 0; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: transform .08s ease, opacity .12s ease; }
button:hover { opacity: 0.95; transform: translateY(-1px); }
button.secondary { background: #64748b; }
button.ghost { background: transparent; color: var(--muted); border: 1px solid #eef2f7; }
.result { margin-top: 14px; }
.result h3 { margin: 0 0 8px 0; font-size: 14px; color: var(--muted); }
.result-content { background: #fbfdff; padding: 12px; border-radius: 8px; min-height: 80px; border: 1px solid #f0f6fb; }
pre.json { margin:0; font-size:13px; color:#0b1220; overflow:auto; max-height:320px; }
.parsed-text { white-space: pre-wrap; font-size: 14px; color: #111827; line-height:1.6; }
.chat-window { flex: 1; overflow: auto; padding: 12px; display:flex; flex-direction:column; gap:10px; background: linear-gradient(180deg, rgba(255,255,255,0.6), transparent); border-radius: 8px; }
.chat-window.small { max-height: 220px; padding:8px; background: transparent; }
.msg { display:flex; width:100%; }
.msg.user { justify-content:flex-end; }
.msg.assistant { justify-content:flex-start; }
.bubble { max-width: 78%; padding: 10px 14px; border-radius: 14px; font-size: 14px; line-height: 1.5; box-shadow: 0 1px 0px rgba(2,6,23,0.02); word-break: break-word; }
.msg.user .bubble { background: var(--user-bg); color: #06364b; border-bottom-right-radius: 6px; }
.msg.assistant .bubble { background: var(--assistant-bg); color: #0f172a; border-bottom-left-radius: 6px; }
.bubble h1, .bubble h2, .bubble h3 { margin: 6px 0; }
.bubble p { margin: 6px 0; }
.bubble ul, .bubble ol { margin: 6px 0 6px 18px; }
.bubble code { background: #f3f4f6; padding: 2px 4px; border-radius: 4px; }
.bubble pre code { background: #0b1220; color: #f8fafc; display:block; padding:10px; border-radius:8px; }
.chat-input { display:flex; gap:8px; align-items:flex-end; padding-top:8px; }
.chat-input textarea { flex:1; resize:none; padding:10px; border-radius:10px; border:1px solid #e6edf3; min-height:46px; font-size:14px; }
.chat-actions button { padding:10px 16px; }
.preview { margin-top:12px; display:flex; align-items:center; justify-content:center; border:1px dashed #e6edf3; padding:8px; border-radius:8px; background: #fff; min-height:72px; }
.preview img { max-width:100%; max-height:200px; border-radius:6px; object-fit:contain; }
.file-name { padding:8px; color:var(--muted); }
.view-selector { margin-top:12px; display:flex; align-items:center; gap:8px; }
.view-selector select { padding:6px 8px; border-radius:6px; border:1px solid #e6edf3; }
.embed-controls { margin-top:12px; }
.embed-controls textarea { width:100%; padding:8px; border-radius:6px; border:1px solid #e6edf3; resize:vertical; font-size:14px; }
.embed-controls .row { margin-top:8px; }
.embed-controls button { background: var(--success); }
.embed-controls button.secondary { background: #0ea5a4; }
.search-results { margin-top:12px; display:flex; flex-direction:column; gap:10px; }
.result-item { display:flex; flex-direction:column; gap:6px; padding:10px; border-radius:8px; background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(250,250,252,0.9)); border:1px solid rgba(15,23,42,0.04); transition: box-shadow .12s ease, transform .08s ease; cursor: pointer; }
.result-item:hover { box-shadow: 0 6px 24px rgba(2,6,23,0.06); transform: translateY(-4px); }
.result-item .meta { display:flex; gap:10px; align-items:center; font-size:12px; color:var(--muted); }
.result-item .source { background: rgba(37,99,235,0.08); color: var(--accent); padding:4px 8px; border-radius:6px; font-weight:600; font-size:12px; }
.result-item .score { display:flex; gap:8px; align-items:center; font-size:12px; color:var(--muted); }
.result-item .snippet { color:#0b1220; font-size:14px; line-height:1.5; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%; }
.score-bar { width:120px; height:8px; background: #eef2f7; border-radius:999px; overflow:hidden; display:inline-block; vertical-align:middle; }
.score-bar > i { display:block; height:100%; background: linear-gradient(90deg,var(--accent), var(--accent-2)); }
.result-detail { margin-top:8px; padding:10px; border-radius:8px; background:#fff; border:1px solid #f0f6fb; font-size:13px; color:#0b1220; }
.session-list { margin-bottom: 12px; }
.session-items { display: flex; flex-direction: column; gap: 6px; margin-top: 8px; }
.session-item { display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border:1px solid #e6edf3; border-radius:8px; background:#fff; cursor:pointer; }
.session-item.active { border-color: var(--accent); background: rgba(37,99,235,0.06); }
.session-item .title { font-weight: 600; color:#0f172a; }
.session-item .date { font-size:12px; color: var(--muted); }
@media (max-width: 920px) { .grid { grid-template-columns: 1fr; padding:12px; } .chat-panel { height: auto; min-height: 60vh; } }
.hint { font-size:12px; color:var(--muted); margin-top:8px; }
.placeholder { color:var(--muted); font-size:14px; }
input[type="file"] { font-size:14px; }
select, input, button, textarea { font-family: inherit; }
.result-buttons { display: flex; gap: 8px; margin-bottom: 12px; }
.tab-btn { flex: 1; background: #e6edf3; color: #0f172a; border: 0; padding: 10px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all .12s ease; }
.tab-btn:hover { background: #d1dae6; }
.tab-btn.active { background: var(--accent); color: white; }
.tab-btn.active:hover { opacity: 0.95; }